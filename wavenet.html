<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaveNet - DeepMind</title>
    <style>
        /* General Styles */
        body {
            background: linear-gradient(135deg, #121212 0%, #1a1a1a 100%);
            color: #E0E0E0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 48px;
            color: #c87100;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 20px;
            color: #BBBBBB;
            font-weight: 400;
            margin-top: 0;
        }

        /* Section Styles */
        .section {
            transition: transform 0.3s ease;
            margin-bottom: 40px;
        }

        .section:hover {
            transform: translateY(-5px); /*texto alza */
        }

        h2 {
            font-size: 32px;
            color: #FFD369;
            border-bottom: 2px solid #c87100;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        p {
            font-size: 18px;
            line-height: 1.8;
            color: #FFFFFF;
            margin: 10px 0;
        }

        ul {
            padding-left: 20px;
            font-size: 18px;
        }

        li {
            margin-bottom: 10px;
        }

        /* Highlight Styles */
        .highlight {
            color: #FFD369;
            font-weight: bold;
        }

        /* Footer Styles */
        footer {
            text-align: center;
            margin-top: 40px;
            font-size: 14px;
            color: #BBBBBB;
        }

        #back_button{
            cursor: pointer;
            position:fixed;
            top: 0;
            left: 0;
            filter: invert(100%);
            width: 80px;
            margin: 20px;
        }
        
        #back_button:hover{
            filter: invert(80%);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            color: #FFD369;
            font-weight: bold;
            cursor: pointer;
            }

        .tooltip-text {
            visibility: hidden;
            background-color: #333;
            color: #fff;
            text-align: left;
            padding: 5px 10px;
            border-radius: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Aparece arriba del texto */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
            }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
            }

    /* Estilos para las tarjetas */
    .card {
        background: #1e1e1e;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        margin-bottom: 30px;
        border-left: 4px solid #c87100;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(200, 113, 0, 0.1) 0%, transparent 100%);
        z-index: 0;
    }

    .card-content {
        position: relative;
        z-index: 1;
    }

    .card h2 {
        border-bottom: none;
        padding-bottom: 0;
        margin-bottom: 15px;
        color: #FFD369;
        font-size: 28px;
    }

    /* Efecto para listas dentro de tarjetas */
    .card ul {
        padding-left: 25px;
    }

    .card li {
        margin-bottom: 12px;
        position: relative;
    }

    .card li::before {
        content: '•';
        color: #c87100;
        font-weight: bold;
        display: inline-block;
        width: 1em;
        margin-left: -1em;
    }

    .audio-demo-container {
        background: #1a1a1a;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
    }

    .sample-selector {
        margin-bottom: 20px;
    }

    .sample-selector select {
        background: #2a2a2a;
        color: white;
        border: 1px solid #c87100;
        padding: 8px;
        border-radius: 5px;
        margin-left: 10px;
    }

    .comparison-container {
        display: flex;
        gap: 30px;
        margin-bottom: 20px;
    }

    .audio-player {
        flex: 1;
        background: #252525;
        padding: 15px;
        border-radius: 8px;
    }

    .audio-player h3 {
        color: #FFD369;
        margin-top: 0;
        text-align: center;
    }

    .waveform {
        height: 100px;
        background: #121212;
        margin-top: 10px;
        border-radius: 5px;
    }

    .audio-comparison {
    display: flex;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
    }

    .audio-sample {
        flex: 1;
        min-width: 250px;
        background: #1e1e1e;
        padding: 15px;
        border-radius: 8px;
        border-left: 3px solid #c87100;
    }

    .audio-player {
        width: 100%;
        margin: 10px 0;
    }

    .audio-description {
        font-size: 14px;
        color: #BBBBBB;
        margin-top: 5px;
        font-style: italic;
    }

    /* Estilos para los controles nativos de audio */
    audio::-webkit-media-controls-panel {
        background-color: #2a2a2a;
    }

    audio::-webkit-media-controls-play-button,
    audio::-webkit-media-controls-mute-button {
        filter: invert(80%);
    }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>WaveNet</h1>
            <p class="subtitle">Modelo generativo autoregresivo para la síntesis de audio realista</p>
        </header>

        <img id="back_button" src="img/ev_1/home.png">

        <section class="card">
            <h2>¿Qué es?</h2>
            <div class="card-content">
                <p>
                    WaveNet es un modelo generativo autoregresivo desarrollado por DeepMind que produce directamente ondas de audio crudas (*raw waveforms*). A diferencia de los métodos tradicionales que utilizan concatenación o vocoders paramétricos, WaveNet genera audio muestra por muestra, modelando su distribución probabilística condicional de forma precisa.
                </p>
            </div>
        </section>

        <section class="section">
            <h2>Convoluciones Causales Dilatadas</h2>
            <p>
                Para preservar la direccionalidad temporal (pasado → futuro), WaveNet emplea <span class="highlight">convoluciones causales</span>. Estas aseguran que cada predicción solo dependa del presente y el pasado, nunca del futuro.
            </p>
            <p>
                Sin embargo, una sola capa de <span class="tooltip">convolución<span class="tooltip-text">Operación que se aplica sobre datos (como imágenes, señales de audio o texto) para extraer patrones locales.</span></span> causal tiene un contexto limitado. Para remediar esto, se utilizan <span class="highlight">convoluciones dilatadas</span>, que expanden el campo receptivo de la red exponencialmente sin incrementar drásticamente los parámetros.
            </p>
            
            <img id="wavenet1" src="img/ev_1/wavenet_2.gif">
            <img id="wavenet2" src="img/ev_1/wavenet.gif">
            
            <p>Por otro lado tenemos la <span class="tooltip">dilatación<span class="tooltip-text"><img id="dilatación" style="width: 400px;"  src="img/ev_1/dilatacion.jpg"></span></span> que permite que la red tenga más contexto que con una convolución normal. Es similar a las convoluciones de agrupamiento o estriadas, pero la salida tiene el mismo tamaño que la entrada.</p>
            
        </section>

        <section class="section">
            <h2>Distribuciones Softmax</h2>
            <p>
                Para modelar la distribución de convoluciones causales dilatadas <span class="tooltip">(Distribución Condicional)</span> usamos la función Softmax ya que puede manejar una gran cantidad de posibles valores de salida y es lo suficientemente flexible para capturar la complejidad de las señales de audio.
            </p>
            <p>
                Antes de aplicar la función Softmax, los valores de audio se transforman utilizando la µ-law (ley A), dónde μ = 255. Después de aplicar µ-law, los valores de audio transformados se cuantizan y en el caso de WaveNet, se cuantiza con 256 niveles.
            </p>
            <p>
                Después de cuantizar la señal de audio, cada valor cuantizado representa un nivel diferente. La función Softmax convierte los logits (valores de entrada) en probabilidades para cada uno de los niveles. La función asegura que la suma de todas las probabilidades sea igual a 1, permitiendo interpretar los valores como probabilidades de pertenencia a cada uno de los 256 niveles.
            </p>
            <div style="text-align: center;justify-content: center;">
            <img src="img/ev_1/wavenet_3.png">
            </div>
            <p>
                Si el nivel 80 tiene una probabilidad de 0.04, esto significa que, según la función Softmax, la probabilidad de que la siguiente muestra de audio sea cuantizada al nivel 80 es del 4%.
En otras palabras, de todas los posibles niveles cuantizados, el nivel 80 tiene una probabilidad del 4% de ser el valor de la siguiente muestra de audio.

            </p>
        </section>

        <section class="section">
            <h2>Gated Activation Units</h2>
            <p>
                Las <span class="highlight">Gated Activation Units (GAUs)</span> permiten controlar cuánto de la información entra y sale de cada capa de la red. Esto ayuda a WaveNet a modelar patrones complejos en el audio y previene el problema del desvanecimiento de gradientes en redes profundas.
            </p>
        </section>

        <section class="section">
            <h2>Redes de Ondas Condicionales</h2>
            <p>
                WaveNet puede ser extendido para generar audio condicionado a diferentes tipos de entradas. Estas <span class="highlight">redes de ondas condicionales</span> permiten que el modelo produzca diferentes resultados basados en contexto adicional.
            </p>
            <ul>
                <li><b>Texto</b>: Condicionamiento con embeddings de texto para síntesis de voz (TTS).</li>
                <li><b>Altavoz</b>: Embeddings del hablante para personalizar la voz generada.</li>
                <li><b>Etiquetas musicales</b>: Para generar música específica por género o instrumento.</li>
            </ul>
        </section>

    </div>
    
    <section class="card">
        <h2>Demo Interactiva: Comparación de Técnicas</h2>
        <div class="audio-comparison">
            <!-- WaveNet -->
            <div class="audio-sample">
                <h3>WaveNet (Generativo)</h3>
                <audio controls class="audio-player">
                    <source src="audios/us-english-wavenet-1.wav" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
                <p class="audio-description">Audio generado por modelo WaveNet de DeepMind</p>
            </div>
            
            <!-- Concatenativo -->
            <div class="audio-sample">
                <h3>Concatenativo (Tradicional)</h3>
                <audio controls class="audio-player">
                    <source src="audios/us-english-concatenative-1.wav" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
                <p class="audio-description">Audio generado por método concatenativo tradicional</p>
            </div>
        </div>
    </section>
</body>

<script>
        document.addEventListener('DOMContentLoaded', function() {
    // Pausar el otro audio cuando uno se reproduce
    const audioPlayers = document.querySelectorAll('.audio-player');
    
    audioPlayers.forEach(player => {
        player.addEventListener('play', function() {
            audioPlayers.forEach(otherPlayer => {
                if (otherPlayer !== player) {
                    otherPlayer.pause();
                }
            });
        });
    });
});
        document.addEventListener("DOMContentLoaded", function () {
        // Back button functionality to go to page_1.html
        const backButton = document.getElementById("back_button");

        backButton.addEventListener("click", function() {
            window.location.href = "page_1.html";  // Redirect to page_1.html
        });
    });
</script>
</html>
