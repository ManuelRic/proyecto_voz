<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Voice TTS (ElevenLabs)</title>
  <style>
    @font-face {
        font-family: 'CalSans';
        src: url('fonts/CalSans-Regular.ttf') format('truetype');
      }

    html{
      font-family: 'CalSans', sans-serif;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #121212;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    h2 {
      margin-bottom: 20px;
      color: #c87100;
    }

    textarea {
      width: 90%;
      max-width: 600px;
      padding: 15px;
      font-size: 16px;
      border: 2px solid #ccc;
      border-radius: 10px;
      resize: vertical;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    button {
      width: 33%;
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      color: white;
      background-color: #ffa600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease;
    }

    #speak_button{
      background-color: #ffae00;
      margin-bottom: 30px;
    }

    #speak_button:hover{
      background-color: #d69200;
    }

    #back_button{
      background-color: #912828;
      margin-bottom: 30px;
    }

    #back_button:hover{
      background-color: #6b1e1e;
    }

  </style>
</head>
<body>
  <h2>üó£Ô∏è IA Text-to-Speech</h2>
  <textarea id="text-input" rows="4" cols="50">¬øQu√© tal? Si quieres puedes introducir tu propio texto, esta IA est√° dise√±ada para hablar en ingl√©s.</textarea><br>

  <button onclick="speak()" id="speak_button">üîä Reproducir</button>

  <button id="back_button">Atr√°s</button>

  <script>
    async function speak() {
      const text = document.getElementById("text-input").value;

      const API_KEY = "sk_e27aaae585ccfdc6de7199496caa0ce9a88e92507fe6f494";
      const VOICE_ID = "Xb7hH8MSUJpSbSDYk0k2";

      try {
        const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${VOICE_ID}`, {
          method: "POST",
          headers: {
            "xi-api-key": API_KEY,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            text: text,
            model_id: "eleven_monolingual_v1",
            voice_settings: {
              stability: 0.5,
              similarity_boost: 0.5
            }
          })
        });

        if (!response.ok) {
          throw new Error(`Error: ${response.statusText}`);
        }

        const blob = await response.blob();
        const audioUrl = URL.createObjectURL(blob);
        const audio = new Audio(audioUrl);
        audio.play();
      } catch (error) {
        alert("Something went wrong: " + error.message);
        console.error(error);
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
    // Back button functionality to go to page_1.html
    const backButton = document.getElementById("back_button");

    backButton.addEventListener("click", function() {
        window.location.href = "page_1.html";  // Redirect to page_1.html
    });
    });
  </script>
</body>
</html>
